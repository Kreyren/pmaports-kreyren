# forked from Alpine Linux
pkgname=purple-mm-sms
pkgver=0.1.7_git20210112
pkgrel=0
pkgdesc="A libpurple plugin for sending and receiving SMS via Modemmanager"
arch="all !s390x !mips64"
url="https://source.puri.sm/Librem5/purple-mm-sms"
license="GPL-2.0-or-later"
depends="modemmanager"
makedepends="
	evolution-data-server-dev
	glib-dev
	modemmanager-dev
	pidgin-dev
	"
# 'mmsd' branch
_commit=94d74f0b26fe953bc5f8be0fc7835876c94c6ae8
source="https://source.puri.sm/kop316/purple-mm-sms/-/archive/$_commit/purple-mm-sms-$_commit.tar.gz"
#source="https://source.puri.sm/Librem5/purple-mm-sms/-/archive/v$pkgver/purple-mm-sms-v$pkgver.tar.gz"
#builddir="$srcdir/$pkgname-v$pkgver"
builddir="$srcdir/$pkgname-$_commit"
options="!check" # No test suite

build() {
	make
}

package() {
	DESTDIR="$pkgdir" make install
}
sha512sums="f65ac2c05af0d47d1273d984db1207b3dea5435341867c155ec0a9ddfeaf90e1ee55b87b67b48aa74cf7dcfa6ee7446cb05b8e0274818db45b23ad95a654ef98  purple-mm-sms-94d74f0b26fe953bc5f8be0fc7835876c94c6ae8.tar.gz"
