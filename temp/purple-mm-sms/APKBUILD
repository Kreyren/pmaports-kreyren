# Contributor: Bart Ribbers <bribbers@disroot.org>
# Contributor: Danct12 <danct12@disroot.org>
# Maintainer: Rasmus Thomsen <oss@cogitri.dev>
pkgname=purple-mm-sms
pkgver=0.1.7_git20210501
pkgrel=0
_commit="d29745c47cf1c949293d4b8fde2d69a2d6b31e7c"
arch="aarch64"
pkgdesc="A libpurple plugin for sending and receiving SMS via Modemmanager"
arch="all !s390x !mips64"
url="https://source.puri.sm/Librem5/purple-mm-sms"
license="GPL-2.0-or-later"
depends="modemmanager"
makedepends="
	evolution-data-server-dev
	pidgin-dev
	modemmanager-dev"
source="https://source.puri.sm/kop316/purple-mm-sms/-/archive/$_commit/purple-mm-sms-$_commit.tar.gz"
builddir="$srcdir/$pkgname-$_commit"
options="!check" # No test suite

build() {
	make
}

package() {
	DESTDIR="$pkgdir" make install
}
sha512sums="
c6db5f4320d434c25c1eae05701e5cecd50b4c7b4503dd7db726d62515b97abd308c25a6390f44a87b78e3445f531df501cf874c033cac673b3f7cb2095fb983  purple-mm-sms-d29745c47cf1c949293d4b8fde2d69a2d6b31e7c.tar.gz
"
