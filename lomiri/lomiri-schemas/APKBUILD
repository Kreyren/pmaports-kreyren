# Contributor: Bart Ribbers <bribbers@disroot.org>
# Maintainer: Luca Weiss <luca@z3ntu.xyz>
pkgname=lomiri-schemas
pkgver=0_git20230205
pkgrel=0
_commit="fe3ea2be8d7466e72149c91ac2035362f3975374"
pkgdesc='GSettings / AccountsService schema files for Lomiri'
arch="noarch"
url="https://gitlab.com/ubports/development/core/lomiri-schemas"
license="LGPL-2.1"
makedepends="cmake cmake-extras glib-dev intltool"
source="https://gitlab.com/ubports/development/core/lomiri-schemas/-/archive/$_commit/lomiri-schemas-$_commit.tar.gz"
builddir="$srcdir/$pkgname-$_commit"
options="!check" # No tests

build() {
	cmake -B build \
		-DCMAKE_BUILD_TYPE=None \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DCMAKE_INSTALL_LIBDIR=lib \
		-DCMAKE_INSTALL_LOCALSTATEDIR=/var
	make -C build
}

package() {
	make -C build DESTDIR="$pkgdir" install
}

sha512sums="
ed3adc1968cea0d97d4d101a80553848111b09ebb34371212f15db4611b8b5b8cbbb3c572d9a0ef3bcd2107ac3fdf7ade196939a757c54303da6d0f967c7f90b  lomiri-schemas-fe3ea2be8d7466e72149c91ac2035362f3975374.tar.gz
"
