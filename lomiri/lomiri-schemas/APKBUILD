# Contributor: Bart Ribbers <bribbers@disroot.org>
# Maintainer: Luca Weiss <luca@z3ntu.xyz>
pkgname=lomiri-schemas
pkgver=0_git20230215
pkgrel=0
_commit="fed68d63df86c0b39654b66c31e02be25018f5f1"
pkgdesc='GSettings / AccountsService schema files for Lomiri'
arch="noarch"
url="https://gitlab.com/ubports/development/core/lomiri-schemas"
license="LGPL-2.1"
makedepends="cmake cmake-extras glib-dev intltool"
source="https://gitlab.com/ubports/development/core/lomiri-schemas/-/archive/$_commit/lomiri-schemas-$_commit.tar.gz"
builddir="$srcdir/$pkgname-$_commit"
options="!check" # No tests

build() {
	cmake -B build \
		-DCMAKE_BUILD_TYPE=None \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DCMAKE_INSTALL_LIBDIR=lib \
		-DCMAKE_INSTALL_LOCALSTATEDIR=/var
	make -C build
}

package() {
	make -C build DESTDIR="$pkgdir" install
}

sha512sums="
b52195f28e2f3cc99689de62b7a6a23edcf1f94d55a8f99d9db2182281cf551a463443a1a1ff5cb9a6740f80fe9cb742f7055062ddcd0fcf464b3e261772f4bb  lomiri-schemas-fed68d63df86c0b39654b66c31e02be25018f5f1.tar.gz
"
